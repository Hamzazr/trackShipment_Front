<div class="cadreR" *ngIf="!showShimmer">
  <!-- <nz-steps [nzCurrent]="1" nzProgressDot>
      <nz-step nzTitle="Finished" nzDescription="This is a description."></nz-step>
      <nz-step nzTitle="In Progress" nzDescription="This is a description."></nz-step>
      <nz-step nzTitle="Waiting" nzDescription="This is a description."></nz-step>
  </nz-steps> -->

  <nz-modal [(nzVisible)]="isVisible" nzTitle="" (nzOnCancel)="handleCancel()">
    <ng-container *nzModalContent>
      <app-colis-notification [colisId]="colisId"></app-colis-notification>
    </ng-container>
    <div *nzModalFooter>
    </div>
  </nz-modal>

  <nz-divider nzOrientation="left" nzText="Status : "></nz-divider>

  <div nz-row [nzGutter]="[16, 24]">
    <div nz-col class="gutter-row" [nzSpan]="14">
      <div class="inner-box" style="background-color: white;">
        <nz-page-header class="site-page-header">
          <nz-avatar nz-page-header-avatar nzSrc="assets/PicTranspo/checkmark.png"></nz-avatar>
          <!--title-->
          <nz-page-header-title style="color: darkcyan; display: block;" *ngIf="shipmentStatus">{{
            shipmentStatus.events[shipmentStatus.events.length - 1].derivedStatus }}</nz-page-header-title>
          <nz-row style="margin-top: 30px;">
            <nz-statistic nzTitle="Tracking Id : " nzValue="771473846105"></nz-statistic>
          </nz-row>
          <!--subtitle-->
          <!-- <nz-page-header-subtitle>This is a subtitle</nz-page-header-subtitle> -->

          <!--tags-->
          <nz-page-header-content>
            <nz-page-header-tags style="margin-left: 40px;">
              <nz-tag [nzColor]="'blue'" *ngIf="shipmentStatus">{{ shipmentStatus.events[shipmentStatus.events.length -
                1].date | date: 'yyyy-MM-dd HH:mm:ss'}}</nz-tag>
            </nz-page-header-tags>
          </nz-page-header-content>
          <!--extra-->
          <nz-page-header-content>
            <nz-row nzType="flex" style="margin-top: 30px;">
              <nz-statistic nzTitle="From" *ngIf="shipmentStatus"
                nzValue="{{ shipmentStatus.shipperAddress }}"></nz-statistic>
              <nz-statistic nzTitle="To" *ngIf="shipmentStatus" nzValue="{{ shipmentStatus.recipientAddress }}"
                style="margin: 0 100px"></nz-statistic>
            </nz-row>

            <nz-row style="margin-top: 30px;">
              <nz-page-header-subtitle>Want updates on this shipment? Enter your email and we will do the
                rest!</nz-page-header-subtitle>
              <nz-input-group nzSearch nzSize="large" [nzAddOnAfter]="suffixButton" (keyup)="onKey($event)">
                <input type="text" nz-input placeholder="Your Email" />
              </nz-input-group>
              <ng-template #suffixButton style="padding: 0%;">
                <button nz-button nzType="primary" nzSize="large" (click)="sendNotif()" nzSearch>Submit</button>
              </ng-template>
            </nz-row>
            <button class = "mt-1" nz-button nzType="default" (click)="showModal()">
              <span nz-icon nzType="setting"></span>
              Edit Notification Setting
            </button>

          </nz-page-header-content>

        </nz-page-header>
      </div>
    </div>

    <div nz-row [nzGutter]="[16, 24]">
      <div nz-col class="gutter-row" [nzSpan]="20" style="margin-top: 90px;">
        <div class="inner-box">
          <nz-steps [nzCurrent]="this.shipmentStatus.events.length" nzProgressDot nzDirection="vertical">
            <nz-step *ngFor="let event of shipmentStatus.events; let i = index" nzTitle="{{ event.derivedStatus }}"
              nzDescription="{{ event.eventDescription }}">
            </nz-step>
          </nz-steps>

        </div>
      </div>
    </div>

    <div nz-row [nzGutter]="[16, 24]">
      <div nz-col class="gutter-row" [nzSpan]="24">
        <div class="inner-box" style="background-color: white;">

          <!-- Shipment overview -->
          <nz-page-header class="site-page-header">
            <nz-avatar [nzShape]="'square'" nz-page-header-avatar nzSrc="assets/PicTranspo/approval.png"></nz-avatar>
            <nz-page-header-title style="color: rgb(0, 0, 0); display: block;">Shipment overview</nz-page-header-title>
          </nz-page-header>
          <table class="table table-striped ml-2">

            <!-- Tracking Number -->
            <tr>
              <td class="font-weight-bold">TRACKING NUMBER</td>
              <td>{{ shipmentStatus.trackingNumber }}</td>
            </tr>

            <!-- Ship Date -->
            <tr>
              <td class="font-weight-bold">SHIP DATE</td>
              <td>
                {{ shipmentStatus.shippingDate | date: 'yyyy-MM-dd HH:mm:ss'
                }}
              </td>
            </tr>

            <!-- Standard Transit -->
            <tr>
              <td class="font-weight-bold">STANDARD TRANSIT</td>
              <td>
                {{ shipmentStatus.standardTransitTimeWindow | date:
                'yyyy-MM-dd
                HH:mm:ss' }}
              </td>
            </tr>

            <!-- Actual Delivery -->
            <tr>
              <td class="font-weight-bold">ACTUAL DELIVERY</td>
              <td>
                {{ shipmentStatus.actualDelivery | date: 'yyyy-MM-dd
                HH:mm:ss'
                }}
              </td>
            </tr>

          </table>

          <!-- Packege Detail -->
          <nz-page-header class="site-page-header">
            <nz-avatar [nzShape]="'square'" nz-page-header-avatar nzSrc="assets/PicTranspo/package.png"></nz-avatar>
            <nz-page-header-title style="color: rgb(0, 0, 0); display: block;">Package Details</nz-page-header-title>
          </nz-page-header>
          <table class="table table-striped ml-2">

            <!-- Count -->
            <tr>
              <td class="font-weight-bold">Count</td>
              <td>{{ shipmentStatus?.packageDetails?.count }}</td>
            </tr>

            <!-- Weight -->
            <tr>
              <td class="font-weight-bold">Weight</td>
              <td>
                {{ shipmentStatus?.packageDetails?.weight?.value }} {{
                shipmentStatus?.packageDetails?.weight?.unit }}
              </td>
            </tr>

            <!-- Dimension -->
            <tr>
              <td class="font-weight-bold">Dimension</td>
              <td>
                {{ shipmentStatus?.packageDetails?.dimension?.length }} x
                {{ shipmentStatus?.packageDetails?.dimension?.width }} x
                {{ shipmentStatus?.packageDetails?.dimension?.height }}
                {{ shipmentStatus?.packageDetails?.dimension?.units }}
              </td>
            </tr>

            <!-- Packaging -->
            <tr>
              <td class="font-weight-bold">Packaging</td>
              <td>{{ shipmentStatus?.packageDetails?.packaging }}</td>
            </tr>

          </table>

        </div>

      </div>

    </div>
  </div>
</div>

<div class="detail-container">
  <div *ngIf="showShimmer">
    <div class="shimmer-section">
      <div class="shimmer"></div>
      <div class="shimmer"></div>
      <div class="shimmer"></div>
    </div>
    <div class="shimmer-section">
      <div class="shimmer"></div>
      <div class="shimmer"></div>
      <div class="shimmer"></div>
    </div>
    <div class="shimmer-section">
      <div class="shimmer"></div>
      <div class="shimmer"></div>
      <div class="shimmer"></div>
    </div>
  </div>
</div>